<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Waka Multimedia - Home</title>

<style>
body, html {
  margin: 0;
  font-family: Arial, sans-serif;
  background: url('okay.png') no-repeat center center fixed;
  background-size: cover;
  color: white;
  overflow-x: hidden;
}

/* Navigation */
nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 40px;
  background: rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
}

nav h1 {
  font-size: 1.8em;
}

.nav-links button {
  margin-left: 15px;
  padding: 8px 15px;
  border-radius: 25px;
  border: none;
  background: rgba(29,185,84,0.8);
  color: white;
  font-weight: bold;
  cursor: pointer;
}

.nav-links button:hover {
  background: rgba(29,185,84,1);
}

/* Hero */
.hero {
  text-align: center;
  padding: 60px 20px 40px;
}

.hero h2 {
  font-size: 3em;
  margin-bottom: 20px;
}

.hero input {
  width: 500px;
  max-width: 90%;
  padding: 12px 15px;
  border-radius: 25px;
  border: none;
  background: white;
  color: black;
  text-align: center;
}

/* Featured */
.featuredSection {
  display: flex;
  gap: 25px;
  padding: 40px;
  justify-content: center;
}

.featuredCard {
  width: 500px;
  height: 400px;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(12px);
  border-radius: 15px;
  padding: 20px;
  text-align: center;
}

.featuredCard img {
  width: 100%;
  border-radius: 10px;
}

/* Footer */
footer {
  text-align: center;
  padding: 20px;
  background: rgba(0,0,0,0.3);
  margin-top: 50px;
}

/* ===== Music Player ===== */

.music-player {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 150px;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(5px);
  padding: 10px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  z-index: 1000;
}

#playerBg {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 0;
  filter: brightness(0.5) blur(3px);
}

.music-player > *:not(#playerBg) {
  position: relative;
  z-index: 1;
}

.progress-wrapper {
  width: 500px;
  max-width: 90%;
  display: flex;
  align-items: center;
  gap: 10px;
}

.progress-bar {
  flex: 1;
  height: 5px;
  background: rgba(255,255,255,0.2);
  border-radius: 5px;
  cursor: pointer;
}

.progress {
  height: 5px;
  background: #1db954;
  width: 0%;
  border-radius: 5px;
}

.controls {
  display: flex;
  gap: 15px;
  align-items: center;
}

.controls button {
  background: none;
  border: none;
  color: white;
  font-size: 22px;
  cursor: pointer;
}

.controls button:hover {
  color: #1db954;
}

.play-btn {
  font-size: 28px;
}
</style>
</head>

<body>

<nav>
  <h1>Waka Multimedia</h1>
  <div class="nav-links">
    <button onclick="location.href='home.html'">Home</button>
    <button onclick="location.href='discover.html'">Discover</button>
	    <button onclick="location.href='portfolio.html'">PortFolio</button>
	
    <button onclick="location.href='upload.html'">Upload</button>
    <button onclick="location.href='login.html'">Login</button>
	    <button onclick="location.href='register.html'">Register</button>
  </div>
</nav>

<div class="hero">
  <h2>Welcome to Waka Multimedia</h2>
  <p>Discover, upload and enjoy music like never before!</p>
  <input type="text" placeholder="Search music...">
</div>

<div class="featuredSection">
  <div class="featuredCard">
    <img src="pexels-kaip-1128440.jpg">
    <h3>Top 10 Music</h3>
    <p>Curated Playlist</p>
  </div>
</div>

<footer>
  &copy; 2026 Waka Multimedia
</footer>

<!-- MUSIC PLAYER -->
<div class="music-player">

  <video autoplay muted loop id="playerBg">
    <source src="background-video.mp4" type="video/mp4">
  </video>

  <div class="progress-wrapper">
    <span id="currentTime">0:00</span>

    <div class="progress-bar" id="progressBar">
      <div class="progress" id="progress"></div>
    </div>

    <span id="totalTime">0:00</span>
  </div>

  <div class="controls">
    <button id="shuffle">üîÄ</button>
    <button id="prev">‚èÆÔ∏è</button>

    <button id="play" class="play-btn">
      <span id="playIcon">‚ñ∂Ô∏è</span>
      <span id="pauseIcon" style="display:none;">‚è∏Ô∏è</span>
    </button>

    <button id="next">‚è≠Ô∏è</button>
    <button id="repeat">üîÅ</button>

    <input type="range" id="volume" min="0" max="1" step="0.01" value="0.5">
  </div>

  <audio id="audioPlayer"></audio>
</div>

<script>
const audio = document.getElementById('audioPlayer');
const playBtn = document.getElementById('play');
const playIcon = document.getElementById('playIcon');
const pauseIcon = document.getElementById('pauseIcon');
const nextBtn = document.getElementById('next');
const prevBtn = document.getElementById('prev');
const shuffleBtn = document.getElementById('shuffle');
const repeatBtn = document.getElementById('repeat');
const progressBar = document.getElementById('progressBar');
const progress = document.getElementById('progress');
const currentTimeEl = document.getElementById('currentTime');
const totalTimeEl = document.getElementById('totalTime');
const volumeSlider = document.getElementById('volume');
const featuredSection = document.querySelector('.featuredSection');

let playlist = [];
let current = 0;
let isShuffle = false;
let isRepeat = false;

/* =========================
   FETCH SONGS FROM API
   ========================= */

async function fetchSongs(){
  try{
    const response = await fetch("https://your-api-url.com/api/songs");
    const data = await response.json();

    playlist = data;

    renderTopMusic(data);

    if(playlist.length > 0){
      loadTrack(current);
    }

  }catch(error){
    console.error("Error fetching songs:", error);
  }
}

/* =========================
   RENDER TOP MUSIC CARDS
   ========================= */

function renderTopMusic(songs){
  featuredSection.innerHTML = ""; // clear old static card

  songs.forEach((song, index) => {

    const card = document.createElement("div");
    card.className = "featuredCard";
    card.innerHTML = `
      <img src="${song.cover}">
      <h3>${song.title}</h3>
      <p>${song.artist}</p>
    `;

    card.addEventListener("click", () => {
      current = index;
      loadTrack(current);
      audio.play();
      playIcon.style.display = "none";
      pauseIcon.style.display = "inline";
    });

    featuredSection.appendChild(card);
  });
}

/* ========================= */

function loadTrack(index){
  if(!playlist.length) return;
  audio.src = playlist[index].src;
  audio.load();
}

function formatTime(sec){
  if(isNaN(sec)) return "0:00";
  const m = Math.floor(sec/60);
  const s = Math.floor(sec%60);
  return m + ':' + (s<10?'0'+s:s);
}

audio.addEventListener('timeupdate', () => {
  const percent = (audio.currentTime/audio.duration)*100;
  progress.style.width = percent+'%';
  currentTimeEl.textContent = formatTime(audio.currentTime);
  totalTimeEl.textContent = formatTime(audio.duration);
});

progressBar.addEventListener('click', e => {
  const rect = progressBar.getBoundingClientRect();
  const percent = (e.clientX - rect.left)/rect.width;
  audio.currentTime = percent * audio.duration;
});

playBtn.addEventListener('click', () => {
  if(audio.paused){
    audio.play();
    playIcon.style.display = "none";
    pauseIcon.style.display = "inline";
  } else{
    audio.pause();
    playIcon.style.display = "inline";
    pauseIcon.style.display = "none";
  }
});

function nextTrack(){
  if(!playlist.length) return;

  if(isShuffle){
    current = Math.floor(Math.random()*playlist.length);
  } else{
    current = (current+1)%playlist.length;
  }
  loadTrack(current);
  audio.play();
  playIcon.style.display = "none";
  pauseIcon.style.display = "inline";
}

function prevTrack(){
  if(!playlist.length) return;

  if(isShuffle){
    current = Math.floor(Math.random()*playlist.length);
  } else{
    current = (current-1+playlist.length)%playlist.length;
  }
  loadTrack(current);
  audio.play();
  playIcon.style.display = "none";
  pauseIcon.style.display = "inline";
}

nextBtn.addEventListener('click', nextTrack);
prevBtn.addEventListener('click', prevTrack);

shuffleBtn.addEventListener('click', ()=>{
  isShuffle = !isShuffle;
  shuffleBtn.style.color = isShuffle?'#1db954':'white';
});

repeatBtn.addEventListener('click', ()=>{
  isRepeat = !isRepeat;
  repeatBtn.style.color = isRepeat?'#1db954':'white';
});

audio.addEventListener('ended', ()=>{
  if(isRepeat){
    audio.currentTime = 0;
    audio.play();
  } else{
    nextTrack();
  }
});

volumeSlider.addEventListener('input', ()=>{
  audio.volume = volumeSlider.value;
});

audio.volume = volumeSlider.value;

/* üî• Load songs when page opens */
fetchSongs();

</script>

</body>
</html>